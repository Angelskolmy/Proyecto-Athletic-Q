{% extends 'base.html' %}

{% load static %}

{% block title %}
Detalle Producto
{% endblock %}

{% block content %} 

    {% for detail in DetalleP %}

    <div class="d-flex align-items-center justify-content-center" style="min-height: calc(100vh - 140px);">
        <div class="container my-4" style="max-width:1100px;">
            <div class="card shadow-sm w-100">
                <div class="row g-0">
                    <!-- izquierda: imagen -->
                    <div class="col-lg-5 bg-light d-flex align-items-center justify-content-center p-4">
                        <!-- Aquí irá la URL de la imagen enviada por la función -->
                        <img id="detalle-imagen" src="{{ detail.prod_imagen.url }}" alt="Imagen Producto"
                            class="img-fluid rounded" style="max-height:520px; width:100%; object-fit:contain;">
                    </div>

                    <!-- derecha: datos (fondo BLANCO) -->
                    <div class="col-lg-7" style="background:#ffffff;">
                        <div class="card-body p-5 h-100 d-flex flex-column">
                            <!-- Encabezado: nombre + estado -->
                            <div class="d-flex justify-content-between align-items-start mb-4">
                                <h1 id="detalle-nombre" class="fw-bold mb-0" style="font-size:2rem; line-height:1.05;">
                                    {{ detail.Nombre }} <!-- Nombre enviado por la función -->
                                </h1>

                                <!-- Estado: solo visualización, destacado -->
                                <div id="detalle-estado" class="text-end">
                                    <span class="badge rounded-pill text-white"
                                        style="background:#c82333; font-size:1.1rem; padding:0.5rem 0.9rem; box-shadow:0 2px 6px rgba(0,0,0,0.12);">
                                        {{ detail.Estado }} <!-- Estado enviado por la función -->
                                    </span>
                                </div>
                            </div>

                            <!-- Datos distribuidos y con más espacio -->
                            <div class="row g-3 mb-3" style="font-size:1.05rem;">
                                <div class="col-md-6">
                                    <small class="text-muted">ID</small>
                                    <div class="fw-semibold" id="detalle-id" style="font-size:1.15rem;">{{ detail.Id_producto }}</div>
                                </div>

                                <div class="col-md-6">
                                    <small class="text-muted">Categoría</small>
                                    <div class="fw-semibold" id="detalle-categoria" style="font-size:1.15rem;">{{ detail.Catego_Id.Nombre }}</div>
                                </div>

                                <div class="col-md-6">
                                    <small class="text-muted">Stock</small>
                                    <div class="fw-semibold" id="detalle-stock" style="font-size:1.15rem;">{{ detail.Stock }}</div>
                                </div>

                                <div class="col-md-6">
                                    <small class="text-muted">Precio Compra</small>
                                    <div class="fw-semibold" id="detalle-compra" style="font-size:1.15rem;">${{ detail.Precio_de_compra }}</div>
                                </div>

                                <div class="col-md-6">
                                    <small class="text-muted">Precio Venta</small>
                                    <div class="fw-semibold" id="detalle-venta" style="font-size:1.15rem;">${{ detail.Precio_de_venta }}</div>
                                </div>
                            </div>

                            <!-- Descripción: ampliada, solo mostrar contenido actual -->
                            <div class="mb-3">
                                <small class="text-muted">Descripción</small>
                                <div id="detalle-descripcion" class="border rounded p-4 mt-2"
                                    style="background:#ffffff; min-height:180px; font-size:1.05rem; line-height:1.6; color:#212529; overflow:auto;">
                                    {{ detail.Descripcion }} <!-- Descripción enviada por la función -->
                                </div>
                            </div>

                            <!-- solo enlace para volver al listado -->
                            <div class="mt-4 text-end">
                                <a href="{% url 'Producto' %}" class="btn btn-outline-primary">Volver al listado</a>
                            </div>
                        </div>
                    </div> <!-- /col derecha -->
                </div> <!-- /row -->
            </div> <!-- /card -->
        </div> <!-- /container -->
    </div> <!-- /wrapper --> 

    {% endfor %}

{% endblock %}